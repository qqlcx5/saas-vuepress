# index首页

>首页组件嵌套较多，方便后台管理

>首页分为两版，index、index2

>板块的显示隐藏商家有权决定

## 头部搜索与分类

- 文件内置自定义组件[topSearchAndTabs](../30.common/01.components组件.html)  

    + :shopName店铺名称
    + :classify分类
    + @change监听切换分类
    + :scrollTop滚动高度

 ```vue
 <topSearchAndTabs v-model="active" :shopName="shopName" :classify="classify" @change="changeTab" :scrollTop="scrollTop" />
 ```

  + topSearchAndTabs的内置搜索组件[homeSearch]()
     + :shopName店铺名称
     + searchPath搜索地址路径
     + inputHeight动态高度
     
  ```vue
  <homeSearch :path="searchPath" :title="shopName" :inputHeight="menuButtonInfo.height"/>
  ```
  + topSearchAndTabs的内置分类组件[tabs]()
    + :tabs分类
    
  ```vue
  <tabs :tabs="classify" v-model="active" />
  ```
  + 判断下标大于1的条件下访问切换的对应数据
  + uni.pageScrollTo将页面滚动到目标位置。

  ```js
    methods:{
        async changeTab(index) { // 切换分类
            if (index > 1) { //判断下标
                const {
                    cat_id,
                    name
                } = this.classify[index]
                this.cat_id = cat_id
                const {
                    data: {
                        child_category,
                        goods_branch
                    }
                } = await this.$http('getChildCategory', {    //getChildCategory后端接口
                    cat_id    
                });
                this.getBrand(goods_branch)
                this.getSubclassification(child_category, name)
            }else{
                this.cat_id = ''
            }
            uni.pageScrollTo({   //页面滚动
                scrollTop: 0,
                duration: 0
            })
        }
    }
```



## 轮播图

- 文件内置自定义组件[banner]()
  + 
```vue
 <banner :list="item.list" />
```

## 品类分类

- 文件内置自定义组件[classification]()




## 精选品牌

 

## 子菜单

- 文件内置自定义组件[matrixMenu]()



## 新人礼

- 文件内置自定义组件[couple]()


## 开会员or广告




## 秒杀

- 全局自定义组件global-[ss-no-data]() 和 [scroll-goods]()


## 团购

- 全局自定义组件global-[ss-no-data]() 和 [scroll-goods]()


## 推荐商品

- 文件内置自定义组件[topSearchAndTabs]()

## 热销爆款

- 全局自定义组件[scroll-goods]()


